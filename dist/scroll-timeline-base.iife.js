var ScrollTimelineBase=function(a){"use strict";const u=new WeakMap,n=new WeakMap;function d(s){return s===document.scrollingElement?document:s}function v(s,e){const t=n.get(s).sourceMeasurements;let i=t.scrollTop;return e==="x"&&(i=Math.abs(t.scrollLeft)),i}function T(s,e){const t=n.get(s).sourceMeasurements;return e==="y"?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth}function m(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop,scrollWidth:s.scrollWidth,scrollHeight:s.scrollHeight,clientWidth:s.clientWidth,clientHeight:s.clientHeight}}function h(s){const e=n.get(s);e.sourceMeasurements=m(s);for(const t of e.timelineRefs)t.deref();e.updateScheduled||(setTimeout(()=>{for(const t of e.timelineRefs)t.deref();e.updateScheduled=!1}),e.updateScheduled=!0)}function g(s,e){const t=u.get(s),i=t.source;if(i!==e){if(i){const o=n.get(i);if(o){o.timelineRefs.delete(s);const c=Array.from(o.timelineRefs).filter(l=>typeof l.deref()>"u");for(const l of c)o.timelineRefs.delete(l);o.timelineRefs.size===0&&(o?.disconnect?.(),n.delete(i))}}if(t.source=e,e){let o=n.get(e);if(!o){o={timelineRefs:new Set,sourceMeasurements:m(e)},n.set(e,o);const c=new ResizeObserver(r=>{for(let f=0,R=r.length;f<R;f++)h(t.source)});c.observe(e);for(const r of e.children)c.observe(r);const l=new MutationObserver(r=>{for(const f of r)f.target instanceof HTMLElement&&h(f.target)});l.observe(e,{attributes:!0,attributeFilter:["style","class"]});const p=()=>{o.sourceMeasurements.scrollLeft=e.scrollLeft,o.sourceMeasurements.scrollTop=e.scrollTop;for(const r of o.timelineRefs)r.deref()};d(e).addEventListener("scroll",p),o.disconnect=()=>{c.disconnect(),l.disconnect(),d(e).removeEventListener("scroll",p)}}o.timelineRefs.add(new WeakRef(s))}}}class M{constructor({source:e=document.documentElement,axis:t="y"}){u.set(this,{source:null,axis:t}),g(this,e)}cancel(){n.get(this.source).disconnect?.()}get source(){return u.get(this).source}set source(e){g(this,e)}get axis(){return u.get(this).axis}set axis(e){u.get(this).axis=e}get phase(){const e=this.source;if(!e)return"inactive";const t=getComputedStyle(e);return t.display==="none"||e!==document.scrollingElement&&(t.overflow==="visible"||t.overflow==="clip")?"inactive":"active"}get currentTime(){const e=this.source;if(!e||!e.isConnected||this.phase==="inactive")return null;const t=getComputedStyle(e);if(t.display==="inline"||t.display==="none")return null;const i=this.axis,o=v(e,i),c=T(e,i);return c>0?{value:100*o/c}:{value:100}}}return a.ScrollTimeline=M,a}({});
